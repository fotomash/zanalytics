# Create corrected ngrok configuration for ngrok v3+
import yaml

# Fixed ngrok config - removing invalid bind_tls field
corrected_config = {
    'version': '2',
    'authtoken': 'YOUR_NGROK_AUTH_TOKEN_HERE',
    'tunnels': {
        'zanalytics-api': {
            'addr': '5010',
            'proto': 'http',
            'inspect': True
        },
        'streamlit-dashboard': {
            'addr': '8501', 
            'proto': 'http',
            'inspect': True
        },
        'data-processor': {
            'addr': '5011',
            'proto': 'http', 
            'inspect': True
        },
        'websocket-stream': {
            'addr': '8765',
            'proto': 'http',
            'inspect': True
        }
    }
}

# Write corrected config
with open('ngrok_fixed.yml', 'w') as f:
    yaml.dump(corrected_config, f, default_flow_style=False, indent=2)

print("âœ… Created FIXED ngrok configuration: ngrok_fixed.yml")
print("ðŸ”§ Removed invalid 'bind_tls' fields")
print("âœ… Compatible with ngrok v3+")