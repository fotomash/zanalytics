# **/zanzibar/pms/ \- Patryk Macro Speculations (PMS) Module**

This directory contains the modules responsible for ingesting, parsing, and structuring qualitative, speculative macro narratives, primarily from Patryk, into a machine-readable format for the Zanzibar Analytics system.

## **Purpose**

* **Narrative Intelligence Layer:** To introduce a "soft bias injector" or a contextual feature layer derived from human-generated market views, speculative predictions, geopolitical commentary, and sentiment heuristics.  
* **Augment Quantitative Analysis:** PMS insights are designed to augment, not replace, core quantitative signals (from tick data, market structure, indicators). They can help prioritize setups, confirm/contradict quantitative signals, and build context around anticipated macro catalysts.  
* **Systematic & Testable Narratives:** To codify "trader gut feel" or discretionary macro views into structured JSON objects, making them analyzable, trackable, and their predictive value verifiable over time.

## **Key Components (Current & Planned)**

* **schema.py (Version: pms\_schema\_v1 defined)**  
  * **Responsibility:** Defines or loads the standard JSON schema for PMS narrative events. This schema dictates the structure for storing parsed narratives, including fields like event\_id, timestamps, asset\_symbol, directional\_bias, speculation\_strength, topic, key\_levels, and narrative\_raw.  
  * **Importance:** Ensures consistency and provides a clear contract for data consumed by other parts of the system.  
* **parser.py (Version: v1 \- Basic Keyword/Regex \- pms\_parser\_v1)**  
  * **Responsibility:** Parses raw input (initially Polish text from audio transcriptions or direct text) and transforms it into structured JSON objects conforming to the PMS schema.  
  * **Functionality (V1):**  
    * Basic keyword matching and regular expressions to extract potential assets, directional bias, speculation strength, topics, and key price levels.  
    * Assigns unique event IDs and records timestamps.  
  * **Future Enhancements (V2+):**  
    * Integration of advanced NLP libraries (e.g., spaCy with Polish language models) for more robust Named Entity Recognition (NER), sentiment analysis (for bias/strength), topic modeling, and reasoning extraction.  
    * Handling of multiple assets/biases within a single narrative.  
    * More sophisticated date/timeframe extraction.

## **Data Flow**

1. **Input:** Raw narrative text (e.g., from transcribed audio, direct text input).  
2. **Processing:** parser.py ingests the raw text, applies NLP and rule-based logic to extract relevant information.  
3. **Output:** Structured JSON objects conforming to pms\_schema.json. These JSON objects are then typically stored in a metadata database (e.g., within zanzibar.data\_management.metadata\_db) for access by the Orchestrator and other analytical modules.

## **Configuration**

* The PMS parser might have its own configuration section in config/config.yaml for things like:  
  * Keyword lists for asset/bias/topic mapping.  
  * NLP model paths or settings.  
  * Default values for certain schema fields.

## **Integration with Zanzibar Core**

* **Orchestrator:** The main pipeline orchestrator can query PMS events to incorporate a narrative bias or context when evaluating trading setups generated by quantitative modules.  
* **ML Validation:** PMS event outcomes can be tracked and verified against actual market movements (Phase 4/5 of the roadmap), potentially leading to a "PMS hit rate" or a model that weights PMS input based on historical accuracy.